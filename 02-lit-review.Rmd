# Literature Review {#lit}

As discussed in Section \@ref(intro), forecasters have attempted to model the behavior and level of service of ride-hailing and other novel modes in a variety of ways. Since there is some disagreement as to which strategy best forecasts ridership and behavior, the following literature review outlines the pros and cons of using spatial analysis, activity-based models, multi-agent simulation, and paired modeling approaches to model the use and impacts of ride-hailing. Since the behavior of other novel modes is similar to that of ride-hailing, we include references to research completed for other novel modes as well. 

## Statial Analysis and Ride-hailing {#lit-simp}
The most prominent methodological approach to understanding ride-hailing service is through simple approaches like spatial, statistical, and empirical analyses. For example @correa17 developed heatmaps using spatio-temporal data to analyze ride-hailing pickup locations. @marquet20 processed data and used statistical measures to estimate a connection between walkability index and ride-hailing usage. @dong18 conducted an empirical analysis to understand the unique travel patterns of ride-hailing vehicles. Many other research studies have used simple approaches to estimate the ridership and service of ride-hailing and other novel modes (e.g, @li22, @hyland18, @cho22, @hosseinzadeh21, @zhou19, etc.). The upside to implementing such strategies is their simplicity. The downside, however, is that with their simplicity comes decreased flexibility. Simple spatial, statistical, and empirical methods oftentimes only answer one particular service related question. They are unable to accurately forecast the ridership, level of service, and other usage measures simultaneously whereas activity-based models and multi-agent simulations can.

## Activity-based Models and Ride-hailing {#lit-abm}
Activity-based models are transportation behavior models that construct daily activity patterns for synthetic individuals from behavior choice models. To accurately represent the way people travel, activity-based models predict activity demand before travel demand [@philip13]. Activity-based models also use utility theory and logit based regression to estimate individual behavior [@bowman98]. These models were designed for which their primary advantage is strong individual behavioral representation. Representing individual behavior accurately is advantageous when trying to estimate ride-hailing services, like ridership, because it predicts who among the population is most likely to use a ride-hailing vehicle. In addition to representing behavior accurately, another advantage to using activity-based models is the modal consistency between trips on the same tour (e.g., @nayak22, @hasnine21, @knapen21, @gomes21). Individuals act similarly among trips of the same tour, and activity-based models account for this natural tendency by chaining trips of the same individual together. By maintaining modal consistency among individuals, ride-hailing usage is consistently distributed to the same trips and same individuals, further suggesting justifiable ride-hailing selection estimates.

Knowing the advantages that activity-based models provide, many forecasters use activity-based models to model the ridership and travel patterns of ride-hailing and other novel modes. For example, @nguyen22 modeled one-way car-sharing services with an activity-based model because the modal consistency between trips allowed them to estimate vehicle usage. @xu19 modeled privately-owned autonomous vehicles with an activity-based model as a way to better understand their impact on household travel patterns. @rafiq22 used an activity-based approach to estimate the five most common tour structures of ride-hailing individuals. Many forecasters elect to use activity-based models to model ride-hailing and other modes because of the behavioral representation and modal consistency they provide.

Although there are advantages to using activity-based models to model ride-hailing, forecasters must consider the various weaknesses that exist when using activity-based models. One of the biggest shortfalls with most activity-based models is that travel times are averaged along travel links (e.g., @rsg16, @mahmoudi21). For example, although @nguyen22 used an activity-based models to model one-way car sharing, they noted that it used the Bureau of Public Roads (BPR) function to estimate travel time. The BPR function is a regression function that estimates average travel time based on arrival flows. When using the BPR function to estimate smaller time intervals though, it becomes inconsistent. For this reason, @nguyen22 noted that it was more difficult to verify the service capabilities of the car-sharing modes. Activity-based models lack variability when modeling travel and wait times of ride-hailing and other novel vehicles. In addition, it can be difficult to model ride-hailing vehicle availability and passenger capacity limitations. Almost inversely, however, multi-agent simulation excels at estimating service capabilities but lacks in accurate behavioral representation.

## Multi-agent Simulation and Ride-hailing {#lit-mas}
An alternative to activity-based models for forecasting ride-hailing level of service is multi-agent simulation. Multi-agent simulation models interactions between individual agents (e.g., @bazghandi12, @amblard15, @siebers08). By forecasting the travel behavior on an individual level, multi-agent simulation provides a slew of travel behavior detail at the individual level. This means that wait time and travel time estimations vary between every agent. Forecasting level of service with unique travel time statistics will produce more realistic results. Along with modeling each individual closely, a multi-agent simulation keeps track of every ride-hailing vehicle as well. The complexity of the vehicular availability model along with individual travel behavior model allows multi-agent simulation to estimate exact, variable wait and travel times. For example, the model knows the exact ride-hailing vehicle availability and ride-hailing passenger capacity at every moment of the day. Therefore, capacity measures, like ride-hailing ridership and utilization, can be estimated realistically and with great precision at the individual level using multi-agent simulation. 

Due to the advantages that multi-agent simulation provides, various forecasters have elected to use them to model the level of service for ride-hailing and other novel transport modes. For example, @kamel19 chose to use a multi-agent simulation to model shared autonomous vehicles because decision-making was done on an individual level. This granularity helped the researchers understand how user preferences affected the modal split of shared autonomous vehicles. @horl19b also analyzed shared autonomous vehicles with a multi-agent simulation, mainly to take advantage of the detailed vehicular model. The model allowed forecasters to adjust fleet size and to optimize the way fleet vehicles behaved. By utilizing the advanced vehicular model, the researchers were able to estimate the overall system performance, wait times, and cost of various autonomous vehicle fleets. Similarly, @becker20 used MATSim, an open source agent-based simulation used for large scale scenarios, to model the travel times and costs of different on-demand transit modes (ride-hailing, car-sharing, bike-sharing). The primary advantage of MATSIM is that it provides a "dynamic demand response towards changes in service attributes such as travel times or costs" [@becker20]. Many forecasters continue to analyze new transportation technologies with multi-agent simulation because its inherit advantages are helpful to understanding service capabilities.

Although multi-agent simulation excels at estimating the level of service of ride-hailing vehicles at fine detail, various pitfalls do exists. For example, @ciari16 summarizes a multitude of research done to understand demand for car-sharing with the multi-agent simulation model MATSim. In this research, they note that although multi-agent simulation provides an extensive level of detail, it does not necessarily equate to real world accuracy. Because of the complexity of the multi-agent simulation structure, it remains very difficult to accurately portray individual behavior choices. The structure of the activity-based choice model allows strong individual behavioral representation, whereas the complexity of the multi-agent simulation causes many individual choices to be inaccurate and unreasonable. Similarly, where the activity-based model may excel at more realistic mode choice selections among trips of the same tour, some multi-agent simulation struggle. For example, Figure\@ref(fig:fig-mode-compare) provides a visual example of mode choice shortcoming present in some multi-agent simulations. As seen in Figure \@ref(fig:fig-mode-compare), all trips of the same tour for the activity-based model are based on the selected tour mode. (A tour mode represents the primary mode any particular agent selects to use on a sequence of trips starting and ending at the home location.) This allows users to switch from one mode to another between trips, as long as they are compatible. On the other hand, the simulation model may only undergo mode choice selection on the first trip of the tour, and be trapped into using that same mode on future trips. (Footnote: This is not true for all simulation models, but is true for the multi-agent simulation model used in this research project (BEAM).) This results in less realistic travel behavior. The last inherit weakness of multi-agent simulation is that it is computationally heavy; requiring abundant time and resources. Overall it is clear to see that where the multi-agent simulation lacks in forecasting ride-hailing services the activity-based model excels, and vice versa, and so the combination of using both strategies could prove effective.

```{r fig-mode-compare, out.width='100%', fig.cap='Mode choice in activity-based models and multi-agent simulation.', out.width='100%', fig.asp=1, fig.align='center', echo=FALSE}
knitr::include_graphics("pics/abm-mas-compare.png")
```

## Limited Attempts to Pair Two Disparate Modeling Approaches
The varying strengths and weaknesses within both activity-based models and multi-agent simulation point to possibly using both approaches to understand ride-hailing ridership and level of service. Yet few forecasters have attempted to reconcile or pair these two disparate approaches in order to better understand the behavior of ride-hailing and other novel modes. However, one example of reconciling the traditional approaches is with the system MITO [@moeckel20, @zwick21]. MITO stands for Microsimulation Transport Orchestrator, and its primary purpose is to overcome the limitations of the traditional trip-based model while being easier to implement than the traditional activity-based model. Like a multi-agent simulation, MITO simulates each agent individually. MITO also includes a simplified activity schedule builder, allows forecasters to add attributes, allows agent tracing, and is not as computationally heavy as traditional multi-agent simulations [@moeckel20]. @zwick21 used MITO to estimate travel demand and MATSim to simulate that demand. By pairing together MITO and MATSim, the researchers were able to gather service criteria for pooled on-demand ride-hailing vehicles at a detailed level, while also maintaining the behavioral integrity of each agent. 

Another example of pairing together two disparate modeling approaches involves discrete choice and MATSIM. Since MATSim implements a feedback loop to determine mode choice instead of using a discrete choice model, some researches have attempted to pair together a discrete mode choice model with MATSim in attempt to shorten the number of iterations needed to be run. For example, @horl19 discovered that by using a discrete choice model within MATSim, no irrelevant mode choice decisions were made. This indeed, lead to less iterations being run while enhancing the realistic nature of the mode choice selection. However, although initial modal decisions were more accurate than the default MATSim model, the discrete choice model added a layer of complexity. The need for more accurate and useful data gave the model runners less freedom. 

Overall, these few examples show that by pairing together multiple model frameworks the strengths of each model is utilized. To the authors knowledge, however, no previous literature exists on pairing together an activity-based model and a multi-agent simulation for the purpose of modeling ride-hailing ridership and level of service. By using an activity-based model we can take advantage of the strong individual behavior representation and realistic mode choice decisions. By using a multi-agent simulation we can take advantage of the vaste individual travel behavior detail and the advanced vehicular availability model. We therefore hypothesize that with a joint activity-based model and multi-agent simulation, we can utilize the advantages of both models to capture ride-hailing ridership and level of service measures. And so, the objective of this study is to better understand the significance of using a linked activity-based model and multi-agent simulation in forecasting the usage of ride-hailing modes. 

intro: 502 + 99 = 601
lit: 95 + 170 + 479 + 710 + 493 = 1947
meth: 85 + 77 + 294 + 343 + 69 + 363 + 482 + 598 = 2311
results: 70 + 907 + 580 + 127 + 63 + 114 + 466 + 331 + 53 = 2711
discuss: 352 + 105
limit: 311
conc: 323
Total: 8661

