<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Methods | thesis.knit</title>
  <meta name="description" content="Determining the significance of a consistent mode choice between activity-based models and agent-based microsimulation tools" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Methods | thesis.knit" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Methods | thesis.knit" />
  
  
  

<meta name="author" content="Christopher Day" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="literature-review.html"/>
<link rel="next" href="results.html"/>
<style type="text/css">
p.abstract{
  text-align: center;
  font-weight: bold;
}
div.abstract{
  margin: auto;
  width: 90%;
}
</style>
<script src="libs/header-attrs-2.12/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A BYU Thesis in Bookdown</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Your thesis title should be inverted pyramid-shaped, with the longest<span></span></a></li>
<li class="chapter" data-level="2" data-path="outline.html"><a href="outline.html"><i class="fa fa-check"></i><b>2</b> Outline<span></span></a>
<ul>
<li class="chapter" data-level="2.1" data-path="outline.html"><a href="outline.html#problem-statement"><i class="fa fa-check"></i><b>2.1</b> Problem Statement<span></span></a></li>
<li class="chapter" data-level="2.2" data-path="outline.html"><a href="outline.html#purpose-of-research"><i class="fa fa-check"></i><b>2.2</b> Purpose of Research<span></span></a></li>
<li class="chapter" data-level="2.3" data-path="outline.html"><a href="outline.html#outline-of-research"><i class="fa fa-check"></i><b>2.3</b> Outline of Research<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="literature-review.html"><a href="literature-review.html"><i class="fa fa-check"></i><b>3</b> Literature Review<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="literature-review.html"><a href="literature-review.html#overview"><i class="fa fa-check"></i><b>3.1</b> Overview<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="literature-review.html"><a href="literature-review.html#lit1"><i class="fa fa-check"></i><b>3.2</b> Mode Choice in the Four Step Model<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="literature-review.html"><a href="literature-review.html#lit2"><i class="fa fa-check"></i><b>3.3</b> A Brief History of Mode Choice in Discrete Choice Models<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="literature-review.html"><a href="literature-review.html#lit3"><i class="fa fa-check"></i><b>3.4</b> An Extensive Look into Mode Choice in Activity-Based Models<span></span></a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="literature-review.html"><a href="literature-review.html#lit31"><i class="fa fa-check"></i><b>3.4.1</b> Simplified main tour model<span></span></a></li>
<li class="chapter" data-level="3.4.2" data-path="literature-review.html"><a href="literature-review.html#lit32"><i class="fa fa-check"></i><b>3.4.2</b> Two-tier nested logit model<span></span></a></li>
<li class="chapter" data-level="3.4.3" data-path="literature-review.html"><a href="literature-review.html#lit33"><i class="fa fa-check"></i><b>3.4.3</b> Simplified main tour mode and conditional trip-level mode<span></span></a></li>
<li class="chapter" data-level="3.4.4" data-path="literature-review.html"><a href="literature-review.html#lit34"><i class="fa fa-check"></i><b>3.4.4</b> An activity-based model with exogenous mode choice<span></span></a></li>
<li class="chapter" data-level="3.4.5" data-path="literature-review.html"><a href="literature-review.html#lit35"><i class="fa fa-check"></i><b>3.4.5</b> Simulation-based tour-based mode choice<span></span></a></li>
<li class="chapter" data-level="3.4.6" data-path="literature-review.html"><a href="literature-review.html#lit36"><i class="fa fa-check"></i><b>3.4.6</b> Combinatorial tour-based mode choice<span></span></a></li>
<li class="chapter" data-level="3.4.7" data-path="literature-review.html"><a href="literature-review.html#lit37"><i class="fa fa-check"></i><b>3.4.7</b> Dynamic tour-based mode choice<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="literature-review.html"><a href="literature-review.html#lit4"><i class="fa fa-check"></i><b>3.5</b> The Mode Choice Models used in ActivitySim<span></span></a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="literature-review.html"><a href="literature-review.html#lit41"><i class="fa fa-check"></i><b>3.5.1</b> ActivitySim’s Tour Mode Choice Model<span></span></a></li>
<li class="chapter" data-level="3.5.2" data-path="literature-review.html"><a href="literature-review.html#lit411"><i class="fa fa-check"></i><b>3.5.2</b> ActivitySim’s Tour Mode Choice Utility Functions<span></span></a></li>
<li class="chapter" data-level="3.5.3" data-path="literature-review.html"><a href="literature-review.html#lit42"><i class="fa fa-check"></i><b>3.5.3</b> ActivitySim’s Trip Mode Choice Model<span></span></a></li>
<li class="chapter" data-level="3.5.4" data-path="literature-review.html"><a href="literature-review.html#lit421"><i class="fa fa-check"></i><b>3.5.4</b> ActivitySim’s Trip Mode Choice Utility Functions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="literature-review.html"><a href="literature-review.html#lit5"><i class="fa fa-check"></i><b>3.6</b> The Mode Choice Models used in Agent-based Models<span></span></a></li>
<li class="chapter" data-level="3.7" data-path="literature-review.html"><a href="literature-review.html#lit6"><i class="fa fa-check"></i><b>3.7</b> The Mode Choice Model used in MATSim<span></span></a></li>
<li class="chapter" data-level="3.8" data-path="literature-review.html"><a href="literature-review.html#lit7"><i class="fa fa-check"></i><b>3.8</b> The Mode Choice Model used in BEAM<span></span></a></li>
<li class="chapter" data-level="3.9" data-path="literature-review.html"><a href="literature-review.html#lit8"><i class="fa fa-check"></i><b>3.9</b> Previous Attempts to Enhance Mode Choice in Agent-based Models<span></span></a></li>
<li class="chapter" data-level="3.10" data-path="literature-review.html"><a href="literature-review.html#lit9"><i class="fa fa-check"></i><b>3.10</b> Mode Choice Consistency between ActivitySim and BEAM<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>4</b> Methods<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="methods.html"><a href="methods.html#overview-1"><i class="fa fa-check"></i><b>4.1</b> Overview<span></span></a></li>
<li class="chapter" data-level="4.2" data-path="methods.html"><a href="methods.html#mscen"><i class="fa fa-check"></i><b>4.2</b> Creating the Scenario<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="methods.html"><a href="methods.html#test-scenario-region"><i class="fa fa-check"></i><b>4.2.1</b> Test Scenario Region<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="methods.html"><a href="methods.html#activitysim-setup"><i class="fa fa-check"></i><b>4.2.2</b> ActivitySim Setup<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="methods.html"><a href="methods.html#beam-setup"><i class="fa fa-check"></i><b>4.2.3</b> BEAM Setup<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="methods.html"><a href="methods.html#mbeam"><i class="fa fa-check"></i><b>4.3</b> Additions to BEAM<span></span></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="methods.html"><a href="methods.html#purpose-based-decisions"><i class="fa fa-check"></i><b>4.3.1</b> Purpose-based Decisions<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="methods.html"><a href="methods.html#additional-attributes-in-utility-equation"><i class="fa fa-check"></i><b>4.3.2</b> Additional Attributes in Utility Equation<span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="methods.html"><a href="methods.html#carpool-alternatives"><i class="fa fa-check"></i><b>4.3.3</b> Carpool Alternatives<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="methods.html"><a href="methods.html#mode-choice-algorithms"><i class="fa fa-check"></i><b>4.4</b> Mode Choice Algorithms<span></span></a></li>
<li class="chapter" data-level="4.5" data-path="methods.html"><a href="methods.html#data-and-calibration"><i class="fa fa-check"></i><b>4.5</b> Data and Calibration<span></span></a></li>
<li class="chapter" data-level="4.6" data-path="methods.html"><a href="methods.html#path-person-and-location-analysis"><i class="fa fa-check"></i><b>4.6</b> Path, Person, and Location Analysis<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>5</b> Results<span></span></a></li>
<li class="chapter" data-level="6" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>6</b> Discussion<span></span></a></li>
<li class="chapter" data-level="7" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>7</b> Conclusions<span></span></a></li>
<li class="chapter" data-level="8" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i><b>8</b> About<span></span></a>
<ul>
<li class="chapter" data-level="8.1" data-path="about.html"><a href="about.html#usage"><i class="fa fa-check"></i><b>8.1</b> Usage<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="about.html"><a href="about.html#render-book"><i class="fa fa-check"></i><b>8.2</b> Render book<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="about.html"><a href="about.html#preview-book"><i class="fa fa-check"></i><b>8.3</b> Preview book<span></span></a></li>
<li class="chapter" data-level="8.4" data-path="about.html"><a href="about.html#chapters-and-sub-chapters"><i class="fa fa-check"></i><b>8.4</b> Chapters and sub-chapters<span></span></a></li>
<li class="chapter" data-level="8.5" data-path="about.html"><a href="about.html#captioned-figures-and-tables"><i class="fa fa-check"></i><b>8.5</b> Captioned figures and tables<span></span></a></li>
<li class="chapter" data-level="8.6" data-path="about.html"><a href="about.html#footnotes"><i class="fa fa-check"></i><b>8.6</b> Footnotes<span></span></a></li>
<li class="chapter" data-level="8.7" data-path="about.html"><a href="about.html#citations"><i class="fa fa-check"></i><b>8.7</b> Citations<span></span></a></li>
<li class="chapter" data-level="8.8" data-path="about.html"><a href="about.html#equations"><i class="fa fa-check"></i><b>8.8</b> Equations<span></span></a></li>
<li class="chapter" data-level="8.9" data-path="about.html"><a href="about.html#callout-blocks"><i class="fa fa-check"></i><b>8.9</b> Callout blocks<span></span></a></li>
<li class="chapter" data-level="8.10" data-path="about.html"><a href="about.html#publishing"><i class="fa fa-check"></i><b>8.10</b> Publishing<span></span></a></li>
<li class="chapter" data-level="8.11" data-path="about.html"><a href="about.html#pages"><i class="fa fa-check"></i><b>8.11</b> 404 pages<span></span></a></li>
<li class="chapter" data-level="8.12" data-path="about.html"><a href="about.html#metadata-for-sharing"><i class="fa fa-check"></i><b>8.12</b> Metadata for sharing<span></span></a></li>
</ul></li>
<li><a href="references.html#references">References<span></span></a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">Determining the significance of a consistent mode choice between activity-based models and agent-based microsimulation tools</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="methods" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Methods<a href="methods.html#methods" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="overview-1" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Overview<a href="methods.html#overview-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>A systematic approach to determine the effects of a consistent mode choice model between an activity-based model and a microsimulation tool requires two main steps. The first step involves creating a test scenario that runs within the activity-based model ActivitySim and the microsimulation tool BEAM. Section <a href="methods.html#mscen">4.2</a> explains this step including how the test scenario was created and how ActivitySim and BEAM were configured. The second step involves adjusting the internal code of BEAM to align the mode choice model with that of ActivitySim’s. Section <a href="methods.html#mbeam">4.3</a> explains the details behind the changes made to BEAM’s default mode choice model to align more closely with that of ActivitySim’s.</p>
</div>
<div id="mscen" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Creating the Scenario<a href="methods.html#mscen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Designing a test scenario to use within ActivitySim and BEAM was essential to understanding and testing mode choice between models. This section explains the region that was used to model the test scenario. This section also explains how the input files needed to run both ActivitySim and BEAM were generated for the test scenario.</p>
<div id="test-scenario-region" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Test Scenario Region<a href="methods.html#test-scenario-region" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The test scenario used in this research includes the approximate 2.5 million agents of the Salt Lake City, Utah, USA region. This region includes the Box Elder, Davis, Salt Lake, Utah, and Weber counties. Figure <a href="#figregion"><strong>??</strong></a> shows the 2881 Traffic Analysis Zones (TAZs) that make up the region of study.</p>
<p>This extensive region was selected for the following reasons:</p>
<ol style="list-style-type: decimal">
<li>There is substantial data that exists for this region. Having sufficient data points for each of the TAZs was essential to creating the inputs to ActivitySim and BEAM. The majority of the data used for this research was gathered and shared by Wasatch Front Regional Council (WFRC), the Metropolitan Planning Organization (MPO) of Salt Lake county.</li>
<li>There currently exists a need to analyze this region with a microsimulation tool, such as BEAM. Specifically, the Utah Transit Authority (UTA) wishes to understand what specific sub regions in the Salk Lake area will best serve new on-demand transit vehicles. In some future research, this specific question will be answered. Along this this question, having a microsimulation model of a region will prove to be an effective method to answering multiple transportation service questions in the future. To date, only one previous analysis of this region has been conducted with the BEAM software (NATE LANT REFERENCE).</li>
<li>The project researches live in this region, and therefore have real life knowledge of how transportation works in the region. This allows further verification on the outcome of the research.</li>
</ol>
<p>Specifically, the the region used to create the population of agents</p>
</div>
<div id="activitysim-setup" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> ActivitySim Setup<a href="methods.html#activitysim-setup" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="beam-setup" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> BEAM Setup<a href="methods.html#beam-setup" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="mbeam" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Additions to BEAM<a href="methods.html#mbeam" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="purpose-based-decisions" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Purpose-based Decisions<a href="methods.html#purpose-based-decisions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="additional-attributes-in-utility-equation" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Additional Attributes in Utility Equation<a href="methods.html#additional-attributes-in-utility-equation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="carpool-alternatives" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Carpool Alternatives<a href="methods.html#carpool-alternatives" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="mode-choice-algorithms" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Mode Choice Algorithms<a href="methods.html#mode-choice-algorithms" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
<div id="data-and-calibration" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Data and Calibration<a href="methods.html#data-and-calibration" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="path-person-and-location-analysis" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Path, Person, and Location Analysis<a href="methods.html#path-person-and-location-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="literature-review.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="results.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/03-methods.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["thesis.pdf", "thesis.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
